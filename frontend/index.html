<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GitHub Followings Stars</title>
    <style>
{{STYLE}}
    </style>
  </head>
  <body>
    <a class="skip-link" href="#star-list">Skip to results</a>

    <header>
      <h1>GitHub Followings Stars</h1>
      <p class="timestamp">Last updated: __LAST_UPDATED__</p>
    </header>
    <section id="summary-strip" class="summary-strip" aria-live="polite">
      <div id="summary-count" class="summary-primary">Preparing summary…</div>
      <div class="summary-meta">
        <span id="summary-unseen" class="summary-badge" hidden></span>
        <div id="summary-filters" class="summary-filters" hidden></div>
      </div>
    </section>
    <div id="sync-bar" class="sync-bar">
      <span id="sync-status">Last synced: never</span>
      <span id="sync-stale-badge" class="sync-badge" hidden>Stale</span>
      <div class="sync-actions">
        <button id="mark-seen-button" type="button" disabled>Mark all seen</button>
        <button id="refresh-button" type="button">Refresh now</button>
      </div>
    </div>
    <section class="controls" aria-label="Filtering controls">
      <label class="control" for="search-input">Search
        <input id="search-input" type="search" placeholder="Search by repo, user, description…" autocomplete="off">
      </label>
      <label class="control" for="language-filter">Language
        <select id="language-filter">
          <option value="all">All languages</option>
        </select>
      </label>
      <label class="control" for="activity-filter">Activity
        <select id="activity-filter">
          <option value="all">All activity levels</option>
        </select>
      </label>
      <button id="sort-toggle" type="button" aria-pressed="false">Sort: Newest</button>
      <button id="density-toggle" type="button" aria-pressed="false">Layout: Comfortable</button>
    </section>

    <section id="preset-bar" class="preset-bar" aria-label="Saved view presets">
      <div class="preset-bar__header">
        <h2 class="preset-bar__title">Saved views</h2>
        <button id="preset-save-button" type="button">Save current view</button>
      </div>
      <p class="preset-bar__hint" id="preset-hint">Capture your favorite filter combinations and recall them later or via keyboard shortcuts (Alt+1…Alt+5).</p>
      <div id="preset-list" class="preset-list" role="list" aria-describedby="preset-hint"></div>
    </section>

    <div id="quick-filters" class="quick-filters" hidden></div>
    <div id="user-filter-banner" class="user-filter-banner" hidden>
      <span id="user-filter-label"></span>
      <button id="user-filter-clear" type="button" class="user-filter-clear">Clear</button>
    </div>
    <div id="status-line" class="status-line">Loading…</div>
    <div id="error-banner" class="error-banner" role="alert" aria-hidden="true">
      <span id="error-message"></span>
      <button id="retry-button" type="button">Retry</button>
    </div>
    <div id="result-count" class="status-line" hidden></div>
    <div id="pagination" class="pagination" hidden>
      <div id="pagination-info" class="pagination-info"></div>
      <div class="pagination-controls">
        <button id="page-prev" type="button" aria-label="Previous page">Previous</button>
        <button id="page-next" type="button" aria-label="Next page">Next</button>
      </div>
      <label class="page-size-control">Page size
        <select id="page-size">
          <option value="10">10</option>
          <option value="25">25</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
      </label>
    </div>
    <ul id="star-list" class="star-list" aria-live="polite"></ul>
    <div id="virtual-status" class="status-line" aria-live="polite" hidden></div>
    <noscript>
      <p class="empty-state">JavaScript is required to explore stars interactively. Enable it and reload to search and filter.</p>
    </noscript>
    <div id="shortcut-modal" class="shortcut-modal" role="dialog" aria-modal="true" aria-labelledby="shortcut-modal-title" hidden>
      <div class="shortcut-modal__panel" role="document">
        <div class="shortcut-modal__header">
          <h2 id="shortcut-modal-title">Keyboard shortcuts</h2>
          <button id="shortcut-close" type="button" class="shortcut-modal__close" aria-label="Close shortcuts">×</button>
        </div>
        <dl class="shortcut-modal__list">
          <div>
            <dt>/</dt>
            <dd>Focus search</dd>
          </div>
          <div>
            <dt>?</dt>
            <dd>Toggle this help</dd>
          </div>
          <div>
            <dt>[ / ]</dt>
            <dd>Previous / next page</dd>
          </div>
          <div>
            <dt>L</dt>
            <dd>Cycle language filter</dd>
          </div>
          <div>
            <dt>M</dt>
            <dd>Mark new items as seen</dd>
          </div>
          <div>
            <dt>R</dt>
            <dd>Refresh now</dd>
          </div>
          <div>
            <dt>Alt + 1…5</dt>
            <dd>Apply saved view 1–5</dd>
          </div>
        </dl>
      </div>
    </div>

    <div id="preset-modal" class="preset-modal" role="dialog" aria-modal="true" aria-labelledby="preset-modal-title" hidden>
      <div class="preset-modal__panel" role="document">
        <div class="preset-modal__header">
          <h2 id="preset-modal-title">Save current view</h2>
          <button id="preset-modal-close" type="button" class="preset-modal__close" aria-label="Close saved view dialog">×</button>
        </div>
        <form id="preset-form" class="preset-form">
          <label class="preset-form__label" for="preset-name-input">Preset name
            <input id="preset-name-input" name="name" type="text" maxlength="40" required autocomplete="off" placeholder="e.g., Rust, High activity">
          </label>
          <div class="preset-form__actions">
            <button id="preset-delete-button" type="button" class="preset-form__secondary" hidden>Delete preset</button>
            <div class="preset-form__spacer"></div>
            <button id="preset-cancel-button" type="button" class="preset-form__secondary">Cancel</button>
            <button id="preset-confirm-button" type="submit">Save</button>
          </div>
        </form>
      </div>
    </div>
    <script>
{{SCRIPT}}
    </script>
  </body>
</html>
